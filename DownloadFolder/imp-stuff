======================
SSH KEYGEN
ssh-keygen -t rsa -b 4096 -C vinekti@cybage.com
 
KILLING TASK FOR APT UPDATE
sudo fuser -vik -TERM /var/lib/apt/lists/lock
 
ZSH THEME
ls ~/.oh-my-zsh/themes
 
CHANGE DRUPAL ADMIN PASS
uid: 6
user: salome.bakpa@tmsw.com
lando php core/scripts/password-hash.sh 'adminscp -P tmssite.dev@tmssitedev.ssh.prod.acquia-sites.com:/var/www/html/docroot/favicon.ico /home/vinekti/Sites/
 
COPY FILE FROM SERVER TO LOCAL
scp -P ssh tmssite.dev@tmssitedev.ssh.prod.acquia-sites.com:/var/www/html/docroot/favicon.ico /home/vinekti/Sites/
 
SSH URLs Acquia
DEV: tmssite.dev@tmssitedev.ssh.prod.acquia-sites.com
STG: tmssite.stg@tmssitestg.ssh.prod.acquia-sites.com
PRD: tmssite.prod@tmssiteprod.ssh.prod.acquia-sites.com
 
UPDATE users_field_data SET pass='new_pass_hash' WHERE uid = 1;
DELETE FROM cache_entity WHERE cid = 'values:user:1';
DELETE * FROM flood;
TRUNCATE TABLE flood;
 
PERMISSION FOR DEFAULT FOLDER AND FILES
sudo chmod 555 docroot/sites/default/settings.php
sudo chmod 755 docroot/sites/default
 
MAKE FILE PERISSION NON-WRITABLE
sudo chmod -R ugo-w docroot/sites/default/
 
MERGING TO MASTER
- git fetch.
- git rebase origin/master.
- git checkout master.
- git pull origin master.
- git merge test.
- git push origin master.
 
GIT Ignore Changes
git rm -r --cached .
git add .
git commit -m ".gitignore is now working"
 
=====================
 
UPDATING DRUPAL VERSION
https://www.drupal.org/docs/updating-drupal/updating-drupal-core-via-composer
https://www.drupal.org/docs/updating-drupal/updating-modules-and-themes-using-composer
 
For latest version : composer update drupal/core --with-dependencies (for drupal/core)
For specific version : composer require drupal/core-recommended:9.5.9 drupal/core-composer-scaffold:9.5.9 drupal/core-project-message:9.5.9 --update-with-all-dependenciesscp -P tmssite.dev@tmssitedev.ssh.prod.acquia-sites.com:/var/www/html/docroot/favicon.ico /home/vinekti/Sites/
 
COPYING FILE FROM SERVER TO LOCAL
scp -P ssh tmssite.dev@tmssitedev.ssh.prod.acquia-sites.com:/var/www/html/docroot/favicon.ico /home/vinekti/Sites/
 
MODULE UPGRADE IN DRUPAL UPGRADE 
composer update "drupal/*" --with-all-dependencies
drush updatedb
drush cr
 
ENTITY MISMATCH ERROR
composer require 'drupal/devel_entity_updates'
drush en devel_entity_updates
drush entity-updates
 
TO GET LAST DB UPDATE ID
drush php:eval "echo \Drupal::keyValue('system.schema')->get('tms_common');"
 
TO REVERT ALL UPDATE
drush php:eval "\Drupal::keyValue('system.schema')->set('tms_common', (int) 9000)";
 
=====================
 
SETUP TMS SITE WITH FOLLOWING STEPS
1. sudo apt update
2. sudo apt install git
3. sudo apt install docker-ce=5:20.10.24~3-0~ubuntu-focal docker-ce-cli=5:20.10.24~3-0~ubuntu-focal containerd.io docker-buildx-plugin docker-compose-plugin
4. install lando
5. Create new SSH key and add it to the acquia cloud
6. Create site folder
7. Navigate to site foilder and clone the repo
8. Download and Import DB - lando db-import db_name.sql
9. lando start
10.Access site
 
TO REMOVE LANDO and SETUP FROM THE SCRATCH
1. lando destroy
2. lando poweroff
3. lando start

docker system prune
docker system prune -a
docker images -f dangling=true
docker image prune

=====================

GIT COMMANDS
git remote -v
git remote rename old_name new_name

=====================

MYSQL IMPORT/EXPORT
Import : mysql -u root -p db_name < file_name.sql
Export : mysqldump -u root -p db-name > file_name.sql

=====================

Drupal 7 
composer create-project drupal-composer/drupal-project:7.x-dev freshd7_dir
 
=====================
 
REPOs ACCOUNT CREDS
Git
user: vinekatcybage
pass: myCybagerepo@123
 
Bitbucket
user: vinekatcybage
pass: myTMSrepo@123
 
APP Password
ATBBA5NW564EFc3XwbWjLab5vS9742439206
 
=====================
 
ACQUIA CLOUD PLATFORM CREDS
VINEK CREDS
user: vinekti@cybage.com
pass: tmssite@Cybage@123
 
PROD BACK-OFFICE
user: vinekti@cybage.com
Pass: admin@123
 
=====================

O365 Account Details

Cybage
user: vinektk@cybage.com
pass: myCybageprofile@1#

TogetherWork
user: vtiwari@jacksonriver.com
pass: myTWaccount!1@2#3

QA Portal Creds
user: client
pass: clientpass

Drupal Admin Creds
user: admin
pass: sb74
 
Sumant - 
sumantd@cybage.com
